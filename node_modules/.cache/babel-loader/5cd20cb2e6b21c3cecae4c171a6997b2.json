{"ast":null,"code":"import _defineProperty from \"E:\\\\projects\\\\JS\\\\Front and Back\\\\online-products\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"E:\\\\projects\\\\JS\\\\Front and Back\\\\online-products\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"E:\\\\projects\\\\JS\\\\Front and Back\\\\online-products\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _possibleConstructorReturn from \"E:\\\\projects\\\\JS\\\\Front and Back\\\\online-products\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"E:\\\\projects\\\\JS\\\\Front and Back\\\\online-products\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"E:\\\\projects\\\\JS\\\\Front and Back\\\\online-products\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"E:\\\\projects\\\\JS\\\\Front and Back\\\\online-products\\\\src\\\\common\\\\Form.js\";\n// component for handling all forms\nimport React, { Component } from \"react\";\nimport Joi from \"joi-browser\";\nimport Input from \"./Input\";\nimport SubmitBtn from \"./SubmitBtn\";\n\nvar Form =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Form, _Component);\n\n  function Form() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Form);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Form)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      data: {},\n      errors: {} // to validate the total user inputs \n\n    };\n\n    _this.formValidation = function () {\n      // clone errors state\n      var errors = _objectSpread({}, errors); // validate the inputs using joi-browser\n\n\n      var validation = Joi.validate(_this.state.data, _this.schema, {\n        abortEarly: false\n      });\n\n      if (validation.error) {\n        var errs = validation.error.details;\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n          for (var _iterator = errs[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var i = _step.value;\n            errors[i.path] = i.message;\n          } // reset the errors state\n\n        } catch (err) {\n          _didIteratorError = true;\n          _iteratorError = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion && _iterator.return != null) {\n              _iterator.return();\n            }\n          } finally {\n            if (_didIteratorError) {\n              throw _iteratorError;\n            }\n          }\n        }\n\n        _this.setState({\n          errors: errors\n        });\n      }\n    };\n\n    _this.properityValidation = function (name, value) {\n      // creating object from the input to be able to use it with joi validation\n      var obj = _defineProperty({}, name, value); // validate the input using joi-browser\n\n\n      var validation = Joi.validate(obj, _defineProperty({}, name, _this.schema[name]));\n      var errors = {};\n\n      if (validation.error) {\n        errors[name] = validation.error.details[0].message;\n      } // reset the errors state\n\n\n      _this.setState({\n        errors: errors\n      });\n    };\n\n    _this.handleChange = function (e) {\n      // clone data state\n      var data = _objectSpread({}, _this.state.data); // get the current target\n\n\n      var input = e.currentTarget; // set the current target value\n\n      data[input.name] = input.value; // reset the state\n\n      _this.setState({\n        data: data\n      }); // calling properityValidation methode to validate the input\n\n\n      _this.properityValidation(input.name, input.value);\n    };\n\n    _this.inputRender = function (label) {\n      var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"text\";\n      var name = arguments.length > 2 ? arguments[2] : undefined;\n      var value = arguments.length > 3 ? arguments[3] : undefined;\n      var errors = arguments.length > 4 ? arguments[4] : undefined;\n      console.log(name);\n      return React.createElement(Input, {\n        label: label,\n        type: type,\n        name: name,\n        value: value,\n        onChange: _this.handleChange,\n        errors: errors[name],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      });\n    };\n\n    _this.btnRender = function (label) {\n      return React.createElement(SubmitBtn, {\n        label: label,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      });\n    };\n\n    return _this;\n  }\n\n  return Form;\n}(Component);\n\nexport default Form;","map":{"version":3,"sources":["E:\\projects\\JS\\Front and Back\\online-products\\src\\common\\Form.js"],"names":["React","Component","Joi","Input","SubmitBtn","Form","state","data","errors","formValidation","validation","validate","schema","abortEarly","error","errs","details","i","path","message","setState","properityValidation","name","value","obj","handleChange","e","input","currentTarget","inputRender","label","type","console","log","btnRender"],"mappings":"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","sourcesContent":["// component for handling all forms\r\n\r\nimport React , {Component} from \"react\"\r\nimport Joi from \"joi-browser\"\r\nimport Input from \"./Input\"\r\nimport SubmitBtn from \"./SubmitBtn\"\r\n\r\nclass Form extends Component{\r\n    state = {\r\n        data:{},\r\n        errors:{}\r\n\r\n    }\r\n// to validate the total user inputs \r\n    formValidation=()=>{\r\n\r\n        // clone errors state\r\n        const errors={...errors}\r\n\r\n        // validate the inputs using joi-browser\r\n        const validation = Joi.validate(this.state.data, this.schema, {abortEarly: false}) \r\n        if(validation.error){\r\n            const errs = validation.error.details\r\n            for (let i of errs){\r\n                errors[i.path] = i.message\r\n            }\r\n\r\n            // reset the errors state\r\n             this.setState({errors})\r\n        }\r\n    }\r\n\r\n    // validate each input in the form\r\n    properityValidation=(name, value)=>{\r\n\r\n        // creating object from the input to be able to use it with joi validation\r\n        const obj = {[name]: value}\r\n\r\n        // validate the input using joi-browser\r\n        const validation = Joi.validate(obj, {[name]: this.schema[name]})\r\n        const errors={}\r\n        if(validation.error){\r\n            errors[name] = validation.error.details[0].message\r\n         }   \r\n         // reset the errors state\r\n         this.setState({errors})\r\n}\r\n\r\n// handle the onChange input\r\n    handleChange= (e)=>{\r\n        \r\n        // clone data state\r\n        const data = {...this.state.data}\r\n\r\n        // get the current target\r\n        const input = e.currentTarget\r\n\r\n       // set the current target value\r\n        data[input.name] = input.value\r\n\r\n        // reset the state\r\n        this.setState({data})\r\n\r\n        // calling properityValidation methode to validate the input\r\n        this.properityValidation(input.name, input.value)\r\n        }\r\n\r\n// method for rendering an input component\r\n    inputRender=(label, type= \"text\", name, value, errors)=>{\r\n        console.log(name)\r\n        return(\r\n            <Input label={label}\r\n            type={type}\r\n            name={name}\r\n            value={value}\r\n            onChange={this.handleChange}\r\n            errors={errors[name]}/>\r\n        )\r\n    }    \r\n\r\n    // method for rendering an button component\r\n    btnRender=(label)=>{\r\n        return(\r\n            <SubmitBtn label={label}/>\r\n        )\r\n    }\r\n\r\n}\r\nexport default Form;"]},"metadata":{},"sourceType":"module"}