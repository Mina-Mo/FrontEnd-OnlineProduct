{"ast":null,"code":"import _regeneratorRuntime from \"E:\\\\projects\\\\JS\\\\Front and Back\\\\online-products\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _objectSpread from \"E:\\\\projects\\\\JS\\\\Front and Back\\\\online-products\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _asyncToGenerator from \"E:\\\\projects\\\\JS\\\\Front and Back\\\\online-products\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"E:\\\\projects\\\\JS\\\\Front and Back\\\\online-products\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"E:\\\\projects\\\\JS\\\\Front and Back\\\\online-products\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"E:\\\\projects\\\\JS\\\\Front and Back\\\\online-products\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"E:\\\\projects\\\\JS\\\\Front and Back\\\\online-products\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"E:\\\\projects\\\\JS\\\\Front and Back\\\\online-products\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"E:\\\\projects\\\\JS\\\\Front and Back\\\\online-products\\\\src\\\\components\\\\Home.js\";\nimport React, { Component } from \"react\";\nimport Cards from \"./Cards\";\nimport Categery from \"./Categery\";\nimport Welcome from \"./Welcome\";\nimport NavBar from \"./NavBar\";\nimport Pages from \"./Pages\";\nimport { getProducts, getCategery, deleteProduct } from \"../Data/Products\";\n\nvar Home =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Home, _Component);\n\n  function Home() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Home);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Home)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      data: [],\n      Categeries: getCategery(),\n      user: {\n        Name: \"\",\n        Email: \"\",\n        Password: \"\",\n        CreatedItems: []\n      },\n      selectedCategery: \"All Categeries\",\n      currentPage: 1,\n      pageSize: 4\n    };\n\n    _this.handleCategery = function (Categery) {\n      _this.setState({\n        selectedCategery: Categery\n      });\n\n      _this.setState({\n        currentPage: 1\n      });\n    };\n\n    _this.handleDeleteBtn =\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(product) {\n        var originalData;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                originalData = _objectSpread({}, _this.state.data);\n                _context.prev = 1;\n                _context.next = 4;\n                return deleteProduct(product);\n\n              case 4:\n                window.location.reload();\n                _context.next = 10;\n                break;\n\n              case 7:\n                _context.prev = 7;\n                _context.t0 = _context[\"catch\"](1);\n\n                if (_context.t0.response.status >= 400 && _context.t0.response.status < 500) {\n                  alert(_context.t0.response.data);\n\n                  _this.setState({\n                    data: originalData\n                  });\n                }\n\n              case 10:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[1, 7]]);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    _this.handlePage = function (page) {\n      _this.setState({\n        currentPage: page\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Home, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2() {\n        var _ref2, data;\n\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return getProducts();\n\n              case 2:\n                _ref2 = _context2.sent;\n                data = _ref2.data;\n                this.setState({\n                  data: data\n                });\n\n              case 5:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          data = _this$state.data,\n          Categeries = _this$state.Categeries,\n          selectedCategery = _this$state.selectedCategery,\n          pageSize = _this$state.pageSize,\n          currentPage = _this$state.currentPage;\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(Welcome, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(Categery, {\n        Categeries: Categeries,\n        OnCategery: this.handleCategery,\n        selectedCategery: selectedCategery,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }), React.createElement(Cards, {\n        onDelete: this.handleDeleteBtn,\n        data: data,\n        selectedCategery: selectedCategery,\n        pageSize: pageSize,\n        currentPage: currentPage,\n        onPage: this.handlePage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return Home;\n}(Component);\n\nexport default Home;","map":{"version":3,"sources":["E:\\projects\\JS\\Front and Back\\online-products\\src\\components\\Home.js"],"names":["React","Component","Cards","Categery","Welcome","NavBar","Pages","getProducts","getCategery","deleteProduct","Home","state","data","Categeries","user","Name","Email","Password","CreatedItems","selectedCategery","currentPage","pageSize","handleCategery","setState","handleDeleteBtn","product","originalData","window","location","reload","response","status","alert","handlePage","page"],"mappings":"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","sourcesContent":["import React , {Component} from \"react\"\r\nimport Cards from \"./Cards\"\r\nimport Categery from\"./Categery\"\r\nimport Welcome from\"./Welcome\"\r\nimport NavBar from\"./NavBar\"\r\nimport Pages from\"./Pages\"\r\nimport {getProducts, getCategery, deleteProduct} from \"../Data/Products\"\r\n\r\nclass Home extends Component{\r\n\r\n    state={\r\n        data:[]\r\n        ,\r\n        Categeries: getCategery()\r\n        ,\r\n        user:{\r\n            Name:\"\",\r\n            Email: \"\",\r\n            Password: \"\",\r\n            CreatedItems: []\r\n        },\r\n        selectedCategery: \"All Categeries\",\r\n        currentPage : 1,\r\n        pageSize: 4        \r\n    }\r\n\r\n   async componentDidMount(){\r\n       const {data}= await getProducts()\r\n        this.setState({data})\r\n    }\r\n\r\n    handleCategery=(Categery)=>{\r\n        this.setState({selectedCategery: Categery})\r\n        this.setState({currentPage: 1})\r\n        \r\n    }\r\n\r\n    handleDeleteBtn= async(product)=>{\r\n        const originalData = {...this.state.data}\r\n        try{\r\n            await deleteProduct(product)\r\n            window.location.reload()    \r\n        }catch(error){\r\n            if(error.response.status >= 400 && error.response.status < 500){\r\n                alert(error.response.data)\r\n                this.setState({data: originalData})\r\n            }\r\n        }\r\n    }\r\n\r\n    handlePage=(page)=>{\r\n        this.setState({currentPage: page})\r\n    }\r\n\r\n    render(){\r\n        const {data, Categeries, selectedCategery, pageSize, currentPage} = this.state \r\n        return(\r\n            <React.Fragment>\r\n                <Welcome/>\r\n                <div className=\"container\">\r\n                    <Categery Categeries={Categeries} OnCategery={this.handleCategery} selectedCategery={selectedCategery}/>\r\n                    <Cards onDelete={this.handleDeleteBtn} \r\n                    data={data} \r\n                    selectedCategery={selectedCategery}\r\n                    pageSize={pageSize}\r\n                    currentPage={currentPage}\r\n                    onPage={this.handlePage}\r\n                    />\r\n                </div>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Home;"]},"metadata":{},"sourceType":"module"}