{"ast":null,"code":"import _objectSpread from \"E:\\\\projects\\\\JS\\\\online-products\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"E:\\\\projects\\\\JS\\\\online-products\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _possibleConstructorReturn from \"E:\\\\projects\\\\JS\\\\online-products\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"E:\\\\projects\\\\JS\\\\online-products\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"E:\\\\projects\\\\JS\\\\online-products\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"E:\\\\projects\\\\JS\\\\online-products\\\\src\\\\common\\\\Form.js\";\nimport React, { Component } from \"react\";\nimport Input from \"./Input\";\nimport SubmitBtn from \"./SubmitBtn\";\nimport Joi from \"joi-browser\";\n\nvar Form =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Form, _Component);\n\n  function Form() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Form);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Form)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      data: {},\n      errors: {}\n    };\n    _this.schema = {};\n\n    _this.formValidation = function () {\n      var errors = _objectSpread({}, errors);\n\n      var validation = Joi.validate(_this.state.data, _this.schema, {\n        abortEarly: false\n      });\n\n      if (validation.error) {\n        var errs = validation.error.details;\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n          for (var _iterator = errs[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var i = _step.value;\n            errors[i.path] = i.message;\n          }\n        } catch (err) {\n          _didIteratorError = true;\n          _iteratorError = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion && _iterator.return != null) {\n              _iterator.return();\n            }\n          } finally {\n            if (_didIteratorError) {\n              throw _iteratorError;\n            }\n          }\n        }\n\n        _this.setState({\n          errors: errors\n        });\n      }\n    };\n\n    _this.properityValidation = function (input) {\n      var validation = Joi.validate(_this.state.data, _this.schema);\n      console.log(validation);\n      var errors = {};\n\n      if (validation.error) {}\n\n      _this.setState({\n        errors: errors\n      });\n    };\n\n    _this.handleChange = function (e) {\n      var data = _objectSpread({}, _this.state.data);\n\n      var input = e.currentTarget;\n      data[input.name] = input.value;\n\n      _this.setState({\n        data: data\n      });\n\n      _this.properityValidation(input);\n    };\n\n    _this.inputRender = function (label) {\n      var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"text\";\n      var name = arguments.length > 2 ? arguments[2] : undefined;\n      var value = arguments.length > 3 ? arguments[3] : undefined;\n      return React.createElement(Input, {\n        label: label,\n        type: type,\n        name: name,\n        value: value,\n        onChange: _this.handleChange,\n        errors: _this.state.errors[name],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      });\n    };\n\n    _this.btnRender = function (label) {\n      return React.createElement(SubmitBtn, {\n        label: label,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      });\n    };\n\n    return _this;\n  }\n\n  return Form;\n}(Component);\n\nexport default Form;","map":{"version":3,"sources":["E:\\projects\\JS\\online-products\\src\\common\\Form.js"],"names":["React","Component","Input","SubmitBtn","Joi","Form","state","data","errors","schema","formValidation","validation","validate","abortEarly","error","errs","details","i","path","message","setState","properityValidation","input","console","log","handleChange","e","currentTarget","name","value","inputRender","label","type","btnRender"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAgC,OAAhC;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,GAAP,MAAgB,aAAhB;;IAEMC,I;;;;;;;;;;;;;;;;;UACFC,K,GAAQ;AACJC,MAAAA,IAAI,EAAC,EADD;AAEJC,MAAAA,MAAM,EAAC;AAFH,K;UAMZC,M,GAAS,E;;UACLC,c,GAAe,YAAI;AACf,UAAMF,MAAM,qBAAKA,MAAL,CAAZ;;AACA,UAAMG,UAAU,GAAGP,GAAG,CAACQ,QAAJ,CAAa,MAAKN,KAAL,CAAWC,IAAxB,EAA8B,MAAKE,MAAnC,EAA2C;AAACI,QAAAA,UAAU,EAAE;AAAb,OAA3C,CAAnB;;AACA,UAAGF,UAAU,CAACG,KAAd,EAAoB;AAChB,YAAMC,IAAI,GAAGJ,UAAU,CAACG,KAAX,CAAiBE,OAA9B;AADgB;AAAA;AAAA;;AAAA;AAEhB,+BAAcD,IAAd,8HAAmB;AAAA,gBAAVE,CAAU;AACfT,YAAAA,MAAM,CAACS,CAAC,CAACC,IAAH,CAAN,GAAiBD,CAAC,CAACE,OAAnB;AACH;AAJe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAKf,cAAKC,QAAL,CAAc;AAACZ,UAAAA,MAAM,EAANA;AAAD,SAAd;AACJ;AACJ,K;;UAEDa,mB,GAAoB,UAACC,KAAD,EAAS;AACzB,UAAMX,UAAU,GAAGP,GAAG,CAACQ,QAAJ,CAAa,MAAKN,KAAL,CAAWC,IAAxB,EAA8B,MAAKE,MAAnC,CAAnB;AACAc,MAAAA,OAAO,CAACC,GAAR,CAAYb,UAAZ;AAEA,UAAMH,MAAM,GAAC,EAAb;;AACA,UAAGG,UAAU,CAACG,KAAd,EAAoB,CAClB;;AACD,YAAKM,QAAL,CAAc;AAACZ,QAAAA,MAAM,EAANA;AAAD,OAAd;AACR,K;;UAEGiB,Y,GAAc,UAACC,CAAD,EAAK;AACf,UAAMnB,IAAI,qBAAO,MAAKD,KAAL,CAAWC,IAAlB,CAAV;;AACA,UAAMe,KAAK,GAAGI,CAAC,CAACC,aAAhB;AACApB,MAAAA,IAAI,CAACe,KAAK,CAACM,IAAP,CAAJ,GAAmBN,KAAK,CAACO,KAAzB;;AACA,YAAKT,QAAL,CAAc;AAACb,QAAAA,IAAI,EAAJA;AAAD,OAAd;;AACA,YAAKc,mBAAL,CAAyBC,KAAzB;AACC,K;;UAGLQ,W,GAAY,UAACC,KAAD,EAAoC;AAAA,UAA5BC,IAA4B,uEAAtB,MAAsB;AAAA,UAAdJ,IAAc;AAAA,UAARC,KAAQ;AAC5C,aACI,oBAAC,KAAD;AAAO,QAAA,KAAK,EAAEE,KAAd;AACA,QAAA,IAAI,EAAEC,IADN;AAEA,QAAA,IAAI,EAAEJ,IAFN;AAGA,QAAA,KAAK,EAAEC,KAHP;AAIA,QAAA,QAAQ,EAAE,MAAKJ,YAJf;AAKA,QAAA,MAAM,EAAE,MAAKnB,KAAL,CAAWE,MAAX,CAAkBoB,IAAlB,CALR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ;AAQH,K;;UAEDK,S,GAAU,UAACF,KAAD,EAAS;AACf,aACI,oBAAC,SAAD;AAAW,QAAA,KAAK,EAAEA,KAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ;AAGH,K;;;;;;EAtDc9B,S;;AAyDnB,eAAeI,IAAf","sourcesContent":["import React , {Component} from \"react\"\r\nimport Input from \"./Input\"\r\nimport SubmitBtn from \"./SubmitBtn\"\r\nimport Joi from \"joi-browser\"\r\n\r\nclass Form extends Component{\r\n    state = {\r\n        data:{},\r\n        errors:{}\r\n\r\n    }\r\n\r\nschema = {}\r\n    formValidation=()=>{\r\n        const errors={...errors}\r\n        const validation = Joi.validate(this.state.data, this.schema, {abortEarly: false})\r\n        if(validation.error){\r\n            const errs = validation.error.details\r\n            for (let i of errs){\r\n                errors[i.path] = i.message\r\n            }\r\n             this.setState({errors})\r\n        }\r\n    }\r\n\r\n    properityValidation=(input)=>{\r\n        const validation = Joi.validate(this.state.data, this.schema)\r\n        console.log(validation)\r\n\r\n        const errors={}\r\n        if(validation.error){\r\n         }   \r\n         this.setState({errors})\r\n}\r\n\r\n    handleChange= (e)=>{\r\n        const data = {...this.state.data}\r\n        const input = e.currentTarget\r\n        data[input.name] = input.value\r\n        this.setState({data})\r\n        this.properityValidation(input)\r\n        }\r\n\r\n\r\n    inputRender=(label, type= \"text\", name, value)=>{\r\n        return(\r\n            <Input label={label}\r\n            type={type}\r\n            name={name}\r\n            value={value}\r\n            onChange={this.handleChange}\r\n            errors={this.state.errors[name]}/>\r\n        )\r\n    }    \r\n\r\n    btnRender=(label)=>{\r\n        return(\r\n            <SubmitBtn label={label}/>\r\n        )\r\n    }\r\n\r\n}\r\nexport default Form;"]},"metadata":{},"sourceType":"module"}