{"ast":null,"code":"import axios from \"axios\";\nimport jwtDecode from \"jwt-decode\";\nimport http from \"../Service/http\";\naxios.defaults.headers.common[\"x-auth-token\"] = getjwt();\naxios.interceptors.response.use(null, function (error) {\n  if (!error.response.status >= 400 && error.response.status < 500) {\n    alert(\"Somethig failed!\");\n  }\n\n  return Promise.reject(error);\n});\nexport function userRegisteration(user) {\n  return http.post(\"http://localhost:3000/api/users/signIn\", {\n    Name: user.Name,\n    Email: user.Email,\n    Password: user.Password\n  });\n}\nexport function userLogin(Email, Password) {\n  return http.post(\"http://localhost:3000/api/users/logIn\", {\n    Email: Email,\n    Password: Password\n  });\n}\nexport function getUser() {\n  var jwt = localStorage.getItem(\"token\");\n  var user = jwtDecode(jwt);\n  return user;\n}\nexport function getjwt() {\n  return localStorage.getItem(\"token\");\n}\nexport function getProfile() {\n  return http.get(\"http://localhost:3000/api/users/me\");\n}","map":{"version":3,"sources":["E:\\projects\\JS\\Front and Back\\online-products\\src\\Data\\Users.js"],"names":["axios","jwtDecode","http","defaults","headers","common","getjwt","interceptors","response","use","error","status","alert","Promise","reject","userRegisteration","user","post","Name","Email","Password","userLogin","getUser","jwt","localStorage","getItem","getProfile","get"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,IAAP,MAAiB,iBAAjB;AAEAF,KAAK,CAACG,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,cAA9B,IAAgDC,MAAM,EAAtD;AAEAN,KAAK,CAACO,YAAN,CAAmBC,QAAnB,CAA4BC,GAA5B,CAAgC,IAAhC,EAAsC,UAAAC,KAAK,EAAE;AACzC,MAAG,CAACA,KAAK,CAACF,QAAN,CAAeG,MAAhB,IAA0B,GAA1B,IAAiCD,KAAK,CAACF,QAAN,CAAeG,MAAf,GAAwB,GAA5D,EAAgE;AAC5DC,IAAAA,KAAK,CAAC,kBAAD,CAAL;AACH;;AACD,SAAOC,OAAO,CAACC,MAAR,CAAeJ,KAAf,CAAP;AACH,CALD;AAOA,OAAO,SAASK,iBAAT,CAA2BC,IAA3B,EAAgC;AACvC,SAAOd,IAAI,CAACe,IAAL,CAAU,wCAAV,EAAoD;AACvDC,IAAAA,IAAI,EAAEF,IAAI,CAACE,IAD4C;AAEvDC,IAAAA,KAAK,EAAEH,IAAI,CAACG,KAF2C;AAGvDC,IAAAA,QAAQ,EAAEJ,IAAI,CAACI;AAHwC,GAApD,CAAP;AAKC;AAED,OAAO,SAASC,SAAT,CAAmBF,KAAnB,EAA0BC,QAA1B,EAAmC;AACvC,SAAOlB,IAAI,CAACe,IAAL,CAAU,uCAAV,EAAmD;AAACE,IAAAA,KAAK,EAALA,KAAD;AAAOC,IAAAA,QAAQ,EAARA;AAAP,GAAnD,CAAP;AACF;AAED,OAAO,SAASE,OAAT,GAAkB;AACrB,MAAMC,GAAG,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAZ;AACA,MAAMT,IAAI,GAAGf,SAAS,CAACsB,GAAD,CAAtB;AACA,SAAOP,IAAP;AACH;AAED,OAAO,SAASV,MAAT,GAAiB;AACpB,SAAOkB,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAP;AACH;AAED,OAAO,SAASC,UAAT,GAAqB;AACzB,SAAOxB,IAAI,CAACyB,GAAL,CAAS,oCAAT,CAAP;AACF","sourcesContent":["import axios from \"axios\";\r\nimport jwtDecode from \"jwt-decode\"\r\nimport http from \"../Service/http\"\r\n\r\naxios.defaults.headers.common[\"x-auth-token\"] = getjwt()\r\n\r\naxios.interceptors.response.use(null, error=>{\r\n    if(!error.response.status >= 400 && error.response.status < 500){\r\n        alert(\"Somethig failed!\")\r\n    }\r\n    return Promise.reject(error)\r\n})\r\n\r\nexport function userRegisteration(user){\r\nreturn http.post(\"http://localhost:3000/api/users/signIn\", {\r\n    Name: user.Name,\r\n    Email: user.Email,\r\n    Password: user.Password\r\n})\r\n}\r\n\r\nexport function userLogin(Email, Password){\r\n   return http.post(\"http://localhost:3000/api/users/logIn\", {Email,Password})\r\n}\r\n\r\nexport function getUser(){\r\n    const jwt = localStorage.getItem(\"token\")\r\n    const user = jwtDecode(jwt)\r\n    return user\r\n}\r\n\r\nexport function getjwt(){\r\n    return localStorage.getItem(\"token\")\r\n}\r\n\r\nexport function getProfile(){\r\n   return http.get(\"http://localhost:3000/api/users/me\")\r\n}"]},"metadata":{},"sourceType":"module"}