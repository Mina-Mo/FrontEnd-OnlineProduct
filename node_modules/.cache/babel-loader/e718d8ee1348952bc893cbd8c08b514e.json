{"ast":null,"code":"import _objectSpread from \"E:\\\\projects\\\\JS\\\\online-products\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"E:\\\\projects\\\\JS\\\\online-products\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _possibleConstructorReturn from \"E:\\\\projects\\\\JS\\\\online-products\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"E:\\\\projects\\\\JS\\\\online-products\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"E:\\\\projects\\\\JS\\\\online-products\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"E:\\\\projects\\\\JS\\\\online-products\\\\src\\\\common\\\\Form.js\";\nimport React, { Component } from \"react\";\nimport Input from \"./Input\";\nimport SubmitBtn from \"./SubmitBtn\";\nimport Joi from \"joi-browser\";\n\nvar Form =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Form, _Component);\n\n  function Form() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Form);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Form)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      data: {},\n      errors: {} //schema = {}\n\n    };\n\n    _this.formValidation = function () {\n      var errors = _objectSpread({}, errors);\n\n      var validation = Joi.validate(_this.state.data, _this.schema, {\n        abortEarly: false\n      });\n\n      if (validation.error) {\n        var errs = validation.error.details;\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n          for (var _iterator = errs[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var i = _step.value;\n            errors[i.path] = i.message;\n          }\n        } catch (err) {\n          _didIteratorError = true;\n          _iteratorError = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion && _iterator.return != null) {\n              _iterator.return();\n            }\n          } finally {\n            if (_didIteratorError) {\n              throw _iteratorError;\n            }\n          }\n        }\n\n        _this.setState({\n          errors: errors\n        });\n      }\n    };\n\n    _this.properityValidation = function (input) {\n      var validation = Joi.validate(_this.state.data[input.name], _this.schema[input.name]);\n      console.log(his.state.data[input.name]);\n      var errors = {};\n\n      if (validation.error) {\n        errors[input.name] = validation.error.details[0].message;\n      }\n\n      _this.setState({\n        errors: errors\n      });\n    };\n\n    _this.handleChange = function (e) {\n      var data = _objectSpread({}, _this.state.data);\n\n      var input = e.currentTarget;\n      data[input.name] = input.value;\n\n      _this.setState({\n        data: data\n      });\n\n      _this.properityValidation(input);\n\n      console.log(_this.state.errors);\n      console.log(data);\n    };\n\n    _this.inputRender = function (label) {\n      var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"text\";\n      var name = arguments.length > 2 ? arguments[2] : undefined;\n      var value = arguments.length > 3 ? arguments[3] : undefined;\n      var errors = arguments.length > 4 ? arguments[4] : undefined;\n      console.log(name);\n      return React.createElement(Input, {\n        label: label,\n        type: type,\n        name: name,\n        value: value,\n        onChange: _this.handleChange,\n        errors: errors[name],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      });\n    };\n\n    _this.btnRender = function (label) {\n      return React.createElement(SubmitBtn, {\n        label: label,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      });\n    };\n\n    return _this;\n  }\n\n  return Form;\n}(Component);\n\nexport default Form;","map":{"version":3,"sources":["E:\\projects\\JS\\online-products\\src\\common\\Form.js"],"names":["React","Component","Input","SubmitBtn","Joi","Form","state","data","errors","formValidation","validation","validate","schema","abortEarly","error","errs","details","i","path","message","setState","properityValidation","input","name","console","log","his","handleChange","e","currentTarget","value","inputRender","label","type","btnRender"],"mappings":"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","sourcesContent":["import React , {Component} from \"react\"\r\nimport Input from \"./Input\"\r\nimport SubmitBtn from \"./SubmitBtn\"\r\nimport Joi from \"joi-browser\"\r\n\r\nclass Form extends Component{\r\n    state = {\r\n        data:{},\r\n        errors:{}\r\n\r\n    }\r\n\r\n//schema = {}\r\n    formValidation=()=>{\r\n        const errors={...errors}\r\n        const validation = Joi.validate(this.state.data, this.schema, {abortEarly: false})\r\n        if(validation.error){\r\n            const errs = validation.error.details\r\n            for (let i of errs){\r\n                errors[i.path] = i.message\r\n            }\r\n             this.setState({errors})\r\n        }\r\n    }\r\n\r\n    properityValidation=(input)=>{\r\n        const validation = Joi.validate(this.state.data[input.name], this.schema[input.name])\r\n        console.log(his.state.data[input.name])\r\n\r\n        const errors={}\r\n        if(validation.error){\r\n            errors[input.name] = validation.error.details[0].message\r\n         }   \r\n         this.setState({errors})\r\n}\r\n\r\n    handleChange= (e)=>{\r\n        const data = {...this.state.data}\r\n        const input = e.currentTarget\r\n        data[input.name] = input.value\r\n        this.setState({data})\r\n\r\n        this.properityValidation(input)\r\n\r\n        console.log(this.state.errors)\r\n        console.log(data)\r\n        }\r\n\r\n\r\n    inputRender=(label, type= \"text\", name, value, errors)=>{\r\n        console.log(name)\r\n        return(\r\n            <Input label={label}\r\n            type={type}\r\n            name={name}\r\n            value={value}\r\n            onChange={this.handleChange}\r\n            errors={errors[name]}/>\r\n        )\r\n    }    \r\n\r\n    btnRender=(label)=>{\r\n        return(\r\n            <SubmitBtn label={label}/>\r\n        )\r\n    }\r\n\r\n}\r\nexport default Form;"]},"metadata":{},"sourceType":"module"}