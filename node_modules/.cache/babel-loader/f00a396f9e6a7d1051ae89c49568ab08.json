{"ast":null,"code":"import _defineProperty from \"E:\\\\projects\\\\JS\\\\online-products\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"E:\\\\projects\\\\JS\\\\online-products\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"E:\\\\projects\\\\JS\\\\online-products\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _possibleConstructorReturn from \"E:\\\\projects\\\\JS\\\\online-products\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"E:\\\\projects\\\\JS\\\\online-products\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"E:\\\\projects\\\\JS\\\\online-products\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"E:\\\\projects\\\\JS\\\\online-products\\\\src\\\\common\\\\Form.js\";\nimport React, { Component } from \"react\";\nimport Input from \"./Input\";\nimport SubmitBtn from \"./SubmitBtn\";\nimport Joi from \"joi-browser\";\n\nvar Form =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Form, _Component);\n\n  function Form() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Form);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Form)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      data: {},\n      errors: {} //schema = {}\n\n    };\n\n    _this.formValidation = function () {\n      var errors = _objectSpread({}, errors);\n\n      var validation = Joi.validate(_this.state.data, _this.schema, {\n        abortEarly: false\n      });\n\n      if (validation.error) {\n        var errs = validation.error.details;\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n          for (var _iterator = errs[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var i = _step.value;\n            errors[i.path] = i.message;\n          }\n        } catch (err) {\n          _didIteratorError = true;\n          _iteratorError = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion && _iterator.return != null) {\n              _iterator.return();\n            }\n          } finally {\n            if (_didIteratorError) {\n              throw _iteratorError;\n            }\n          }\n        }\n\n        _this.setState({\n          errors: errors\n        });\n      }\n    };\n\n    _this.properityValidation = function (name, value) {\n      var obj = _defineProperty({}, name, value);\n\n      var validation = Joi.validate(obj, _defineProperty({}, name, _this.schema[name]));\n      var errors = {};\n\n      if (validation.error) {\n        errors[name] = validation.error.details[0].message;\n      }\n\n      _this.setState({\n        errors: errors\n      });\n    };\n\n    _this.handleChange = function (e) {\n      var data = _objectSpread({}, _this.state.data);\n\n      var input = e.currentTarget;\n      data[input.name] = input.value;\n\n      _this.setState({\n        data: data\n      });\n\n      _this.properityValidation(input.name, input.value);\n\n      console.log(_this.state.errors);\n      console.log(data);\n    };\n\n    _this.inputRender = function (label) {\n      var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"text\";\n      var name = arguments.length > 2 ? arguments[2] : undefined;\n      var value = arguments.length > 3 ? arguments[3] : undefined;\n      var errors = arguments.length > 4 ? arguments[4] : undefined;\n      console.log(name);\n      return React.createElement(Input, {\n        label: label,\n        type: type,\n        name: name,\n        value: value,\n        onChange: _this.handleChange,\n        errors: _this.state.errors[name],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      });\n    };\n\n    _this.btnRender = function (label) {\n      return React.createElement(SubmitBtn, {\n        label: label,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      });\n    };\n\n    return _this;\n  }\n\n  return Form;\n}(Component);\n\nexport default Form;","map":{"version":3,"sources":["E:\\projects\\JS\\online-products\\src\\common\\Form.js"],"names":["React","Component","Input","SubmitBtn","Joi","Form","state","data","errors","formValidation","validation","validate","schema","abortEarly","error","errs","details","i","path","message","setState","properityValidation","name","value","obj","handleChange","e","input","currentTarget","console","log","inputRender","label","type","btnRender"],"mappings":"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","sourcesContent":["import React , {Component} from \"react\"\r\nimport Input from \"./Input\"\r\nimport SubmitBtn from \"./SubmitBtn\"\r\nimport Joi from \"joi-browser\"\r\n\r\nclass Form extends Component{\r\n    state = {\r\n        data:{},\r\n        errors:{}\r\n\r\n    }\r\n\r\n//schema = {}\r\n    formValidation=()=>{\r\n        const errors={...errors}\r\n        const validation = Joi.validate(this.state.data, this.schema, {abortEarly: false})\r\n        if(validation.error){\r\n            const errs = validation.error.details\r\n            for (let i of errs){\r\n                errors[i.path] = i.message\r\n            }\r\n             this.setState({errors})\r\n        }\r\n    }\r\n\r\n    properityValidation=(name, value)=>{\r\n        const obj = {[name]: value}\r\n        const validation = Joi.validate(obj, {[name]: this.schema[name]})\r\n        const errors={}\r\n        if(validation.error){\r\n            errors[name] = validation.error.details[0].message\r\n         }   \r\n         this.setState({errors})\r\n}\r\n\r\n    handleChange= (e)=>{\r\n        const data = {...this.state.data}\r\n        const input = e.currentTarget\r\n        data[input.name] = input.value\r\n        this.setState({data})\r\n\r\n        this.properityValidation(input.name, input.value)\r\n\r\n        console.log(this.state.errors)\r\n        console.log(data)\r\n        }\r\n\r\n\r\n    inputRender=(label, type= \"text\", name, value, errors)=>{\r\n        console.log(name)\r\n        return(\r\n            <Input label={label}\r\n            type={type}\r\n            name={name}\r\n            value={value}\r\n            onChange={this.handleChange}\r\n            errors={this.state.errors[name]}/>\r\n        )\r\n    }    \r\n\r\n    btnRender=(label)=>{\r\n        return(\r\n            <SubmitBtn label={label}/>\r\n        )\r\n    }\r\n\r\n}\r\nexport default Form;"]},"metadata":{},"sourceType":"module"}